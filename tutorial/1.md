---
title: "Tutorial 1: A First Game Cell"
author: Patrick Hall
---


Let’s start with a simple game cell, working backwards to determine what data is necessary to render it. The Game Cell
will be represented by a Web Component, which will be responsible for rendering the cell. 

```html
<game-cell></game-cell>
```

So, what will that look like as a Javascript class? We’re going to base our approach on the notion of a
data setter/getter, which will allow us to pass data into the component. (I prefer not to use shadow DOM, and 
I never embed CSS in my components, I’m rather old school that way.)

```javascript
class GameCell extends HTMLElement {
  #data = {}
  set data(data) {
    this.#data = data
    this.render()
  }
  get data() {
    return this.#data
  }
  render() {
  }
}
```

This approach has a few advantages. First, it allows us to pass in data as a single object, which is easier to manage than
multiple attributes. Second, this links rendering to data changes, so we don’t have to worry about when to call render. 

Now, what data do we need to render a game cell? 

Let’s start with the aspects that have obvious visual representations. A cell will have a terrain type, like grass, water, or
mountains. And it may or may not contain structures, items, etc. I like keeping data defined as `JSON` objects, so let’s define
a simple data structure for our game cell, for not specifying only terrain:

```css
{
  terrain: 'grass'
}
```

Obviously, we will want to apply some rule like `background-color: forestgreen` to a `grass` cell. But in order to do that, there
needs to be some indication within the `DOM` that the cell is of type `grass`. That could be done in several ways, but since we are
working with components, we can just define whatever attributes we want on the component itself. So, we can add a `terrain` attribute to our
`<game-cell>` element, and set it to the value of the terrain type.

```html
<game-cell terrain="grass"></game-cell>
```

Then, in our `render` method, we can set the attribute based on the data passed in:

```javascript
render() {
  this.setAttribute('terrain', this.#data.terrain)
  this.innerHTML = `
  `
}
```

Now, we can use CSS to style the cell based on the terrain type:

```css
game-cell[terrain="grass"] {
  background-color: forestgreen;
}
game-cell[terrain="water"] {
  background-color: deepskyblue;
}
game-cell[terrain="mountains"] {
  background-color: gray;
}
```

Nice. So, let’s render consider a full mini example that renders a game cell with terrain type `grass`. We’ll also add a convenience setter/getter
for terrain, just to make it easier to set the terrain type directly.

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>1.html: Game Cell Example</title>
  <style> 
    game-cell {
      display: inline-block;
      width: 100px;
      height: 100px;
      border: 1px solid black;
    }
    game-cell[terrain="grass"] {
      background-color: forestgreen;
    }
    game-cell[terrain="water"] {
      background-color: deepskyblue;
    }
    game-cell[terrain="mountains"] {
      background-color: gray;
    }
  </style>
</head>
<body>
  <game-cell id="cell"></game-cell>
  <script> 
    class GameCell extends HTMLElement {
      #data = {}
      set data(data) {
        this.#data = data
        this.render()
      }
      get data() {
        return this.#data
      }
      set terrain(terrain) {
        this.#data.terrain = terrain
        this.render()
      }
      get terrain() {
        return this.#data.terrain
      }
      render() {
        this.setAttribute('terrain', this.#data.terrain)
      }
    }
    customElements.define('game-cell', GameCell)

    const cell = document.getElementById('cell')
    cell.terrain = 'grass' 
  </script>
</body>
</html>
``` 


<a href="sample-01.html" target="_blank">Open in new tab</a>
<iframe
  id="inlineFrameExample"
  title="Inline Frame Example"
  width="300"
  height="200"
  src="sample-01.html">
</iframe>


<p>In the next tutorial, we’ll add an entity to the game cell.</p>